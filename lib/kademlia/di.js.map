{"version":3,"file":"di.js","sourceRoot":"","sources":["../../src/kademlia/di.ts"],"names":[],"mappings":";;;AAAA,8DAA0C;AAE1C,mFAAmD;AACnD,6EAA6C;AAE7C,+EAA+C;AAC/C,6EAA6C;AAMhC,QAAA,mBAAmB,GAAG,CACjC,GAAW,EACX,OAAgB,EAChB,MAAwB,EAAE,EAC1B,EAAE;IACF,MAAM,UAAU,GAAG,IAAI,oBAAU,EAAE,CAAC;IACpC,OAAO;QACL,OAAO;QACP,MAAM,EAAE,IAAI,gBAAM,CAAC,GAAG,EAAE,GAAG,CAAC;QAC5B,UAAU;QACV,SAAS,EAAE,IAAI,mBAAS,CAAC,OAAO,CAAC,UAAU,CAAC;QAC5C,SAAS,EAAE,IAAI,mBAAS,EAAE;QAC1B,YAAY,EAAE,IAAI,sBAAY,CAAC,UAAU,CAAC;KAC3C,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import Ktable, { Option } from \"./ktable\";\n\nimport EventManager from \"./services/eventmanager\";\nimport JobSystem from \"./services/jobsystem\";\nimport Modules from \"./modules\";\nimport RpcManager from \"./services/rpcmanager\";\nimport Signaling from \"./services/signaling\";\n\ntype Options = Option;\n\nexport type DependencyInjection = ReturnType<typeof dependencyInjection>;\n\nexport const dependencyInjection = (\n  kid: string,\n  modules: Modules,\n  opt: Partial<Options> = {}\n) => {\n  const rpcManager = new RpcManager();\n  return {\n    modules,\n    kTable: new Ktable(kid, opt),\n    rpcManager,\n    signaling: new Signaling(modules.peerCreate),\n    jobSystem: new JobSystem(),\n    eventManager: new EventManager(rpcManager)\n  };\n};\n"]}