{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/kademlia/index.ts"],"names":[],"mappings":";;;AAAA,8DAAsD;AACtD,wDAAwB;AACxB,0EAA0C;AAK1C,MAAqB,QAAQ;IAI3B,YACU,MAA6B,EACrC,MAAuB,EAAE;QADjB,WAAM,GAAN,MAAM,CAAuB;QAJvC,QAAG,GAAG,cAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;QAO9C,MAAM,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAErB,IAAI,CAAC,MAAM,GAAG,IAAI,gBAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACrC,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,SAAiB;QAC9B,MAAM,kBAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACtD,CAAC;CACF;AAhBD,2BAgBC","sourcesContent":["import Ktable, { Option as OptTable } from \"./ktable\";\nimport sha1 from \"sha1\";\nimport findNode from \"./actions/findnode\";\nimport Peer from \"./modules/peer\";\n\ntype Option = OptTable;\n\nexport default class Kademlia {\n  kid = sha1(Math.random().toString()).toString();\n  kTable: Ktable;\n\n  constructor(\n    private module: (kid: string) => Peer,\n    opt: Partial<Option> = {}\n  ) {\n    const { kid } = this;\n\n    this.kTable = new Ktable(kid, opt);\n  }\n\n  async findNode(searchkid: string) {\n    await findNode(this.module, searchkid, this.kTable);\n  }\n}\n"]}