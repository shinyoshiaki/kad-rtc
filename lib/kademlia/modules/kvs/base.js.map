{"version":3,"file":"base.js","sourceRoot":"","sources":["../../../../src/kademlia/modules/kvs/base.ts"],"names":[],"mappings":";;;AAAA,8DAA4B;AAI5B,MAAqB,aAAa;IAAlC;QACE,OAAE,GAA4B,EAAE,CAAC;QACjC,UAAK,GAAG,IAAI,iBAAK,EAAgD,CAAC;QAOlE,QAAG,GAAG,CAAC,GAAW,EAAoB,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAEtD,WAAM,GAAG,CAAC,GAAW,EAAE,EAAE;YACvB,OAAO,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACtB,CAAC,CAAC;IACJ,CAAC;IAVC,GAAG,CAAC,GAAW,EAAE,KAA2B,EAAE,GAAW;QACvD,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;QAC9B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;IACrC,CAAC;CAOF;AAdD,gCAcC","sourcesContent":["import Event from \"rx.mini\";\n\nexport type Item = { value: string | ArrayBuffer; msg?: string };\n\nexport default class KeyValueStore {\n  db: { [key: string]: Item } = {};\n  onSet = new Event<{ key: string; value: string | ArrayBuffer }>();\n\n  set(key: string, value: string | ArrayBuffer, msg: string) {\n    this.db[key] = { value, msg };\n    this.onSet.execute({ key, value });\n  }\n\n  get = (key: string): Item | undefined => this.db[key];\n\n  delete = (key: string) => {\n    delete this.db[key];\n  };\n}\n"]}